struct open {
    # sync with proc.qms open
    type: u16 hex;
    fd: fd;
    uint: u16 hex;
    version_cycle: u8 hex;
    eflag: u8 hex;
    nid: nid;
    pid: pid;
    sflag: u16 hex;
    oflag: u16 hex;
    mode: u16 hex;
    zero: u32 hex;
    path: path;
}

msg io_open {
     type: 0x101;

     request open;
     reply open;
}

msg io_close {
     type: 0x102;

     request {
          fd: fd;
          padd: u32;
     }

     reply {
          status: u16;
     }
}

msg read {
   type: 0x103;

   request {
        fd: fd;
        nbytes: u16;
        zero: u16; 
   }
   reply {
        status: u16;
        nbytes: u16 hex;
        zero: u16;
   }
}

msg write {
   type: 0x104;

   request {
        fd: fd;
        nbytes: u16;
        zero: u16; 
   }
   reply {
        status: u16;
        nbytes: u16 hex;
        zero: u16;
   }
}

msg lseek {
    type: 0x105;

    request {
        fd: fd;
        offset: u16;
        whence: u16;
        zero: u16;
    }
    reply {
        status: u16;
        zero: u16;
        offset: u32;
    }
}